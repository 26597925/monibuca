(function(t){function e(e){for(var a,n,i=e[0],u=e[1],l=e[2],d=0,m=[];d<i.length;d++)n=i[d],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&m.push(o[n][0]),o[n]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);c&&c(e);while(m.length)m.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,i=1;i<r.length;i++){var u=r[i];0!==o[u]&&(a=!1)}a&&(s.splice(e--,1),t=n(n.s=r[0]))}return t}var a={},o={app:0},s=[];function n(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=a,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var c=u;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"000b":function(t,e,r){"use strict";var a=r("5a67"),o=r.n(a);o.a},"034f":function(t,e,r){"use strict";var a=r("f195"),o=r.n(a);o.a},"060a":function(t,e,r){t.exports=r.p+"img/alipay.e872ea78.png"},"0c3e":function(t,e){},"470c":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{attrs:{src:r("cf05")}}),a("div",[a("p",[t._v(" Monibuca 是一个开源的Go语言实现的流媒体服务器开发框架 ")]),a("Button",{attrs:{type:"success",to:"/docs",target:"_blank"}},[t._v("🚀START")]),a("span",{staticStyle:{margin:"0 10px"}}),a("Button",{attrs:{type:"default",target:"_blank",to:"https://github.com/langhuihui/monibuca"}},[a("svg",{staticStyle:{"vertical-align":"text-top"},attrs:{width:"16",height:"16","aria-labelledby":"simpleicons-github-dark-icon",lang:"",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[a("title",{attrs:{id:"simpleicons-github-dark-icon",lang:"en"}},[t._v("GitHub Dark icon")]),a("path",{attrs:{fill:"#7F8C8D",d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"}})]),t._v(" GITHUB")])],1),a("Row",{staticStyle:{margin:"30px"}},[a("Col",{attrs:{span:"8"}},[a("Card",{staticStyle:{margin:"30px"},attrs:{bordered:!1}},[a("div",{staticClass:"feature-title",attrs:{slot:"title"},slot:"title"},[t._v("⚡高性能")]),a("div",[t._v("针对流媒体服务器独特的性质进行的优化，充分利用Golang的goroutine的性质对大量的连接的读写进行合理的分配计算资源，以及尽可能的减少内存Copy操作。使用对象池减少Golang的GC时间。")])])],1),a("Col",{attrs:{span:"8"}},[a("Card",{staticStyle:{margin:"30px"},attrs:{bordered:!1}},[a("div",{staticClass:"feature-title",attrs:{slot:"title"},slot:"title"},[t._v("🔧可扩展")]),a("div",[t._v("流媒体服务器的个性化定制变的更简单，基于Golang语言，开发效率更高，独创的插件机制，可以方便用户定制个性化的功能组合，更高效率的利用服务器资源。")])])],1),a("Col",{attrs:{span:"8"}},[a("Card",{staticStyle:{margin:"30px"},attrs:{bordered:!1}},[a("div",{staticClass:"feature-title",attrs:{slot:"title"},slot:"title"},[t._v("📈可视化")]),a("div",[t._v("功能强大的仪表盘可以直观的看到服务器运行的状态、消耗的资源、以及其他统计信息。用户可以利用控制台对服务器进行配置和控制。点击右上角菜单栏里面的控制台，可以看到演示。")])])],1)],1)],1)},o=[];r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return o}))},"56d7":function(t,e,r){"use strict";r.r(e);var a=r("2b0e"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",[t._v("Monibuca")]),r("Menu",{staticStyle:{position:"absolute",top:"0",right:"0"},attrs:{mode:"horizontal","active-name":t.selectedMenu}},[r("MenuItem",{attrs:{name:"home",to:"/"}},[t._v("首页")]),r("MenuItem",{attrs:{name:"docs",to:"/docs",target:"_blank"}},[t._v(" 文档 ")]),r("MenuItem",{attrs:{name:"console",to:"console"}},[t._v(" 控制台 ")]),r("Submenu",{attrs:{name:"plugins"}},[r("template",{slot:"title"},[t._v(" 内置插件 ")]),r("MenuGroup",{attrs:{title:"发布者/订阅者"}},[r("MenuItem",{attrs:{name:"cluster",to:"/docs/plugins.html#cluster插件"}},[t._v("集群")]),r("MenuItem",{attrs:{name:"rtmp",to:"/docs/plugins.html#rtmp插件"}},[t._v("RTMP")])],1),r("MenuGroup",{attrs:{title:"订阅者"}},[r("MenuItem",{attrs:{name:"jessica",to:"/docs/plugins.html#jessica插件"}},[t._v("Jessica")]),r("MenuItem",{attrs:{name:"HDL",to:"/docs/plugins.html#http-flv插件"}},[t._v("Http-Flv")]),r("MenuItem",{attrs:{name:"record",to:"/docs/plugins.html#recordflv插件"}},[t._v("录制Flv")])],1),r("MenuGroup",{attrs:{title:"发布者"}},[r("MenuItem",{attrs:{name:"HLS",to:"/docs/plugins.html#hls插件"}},[t._v("HLS")]),r("MenuItem",{attrs:{name:"TS",to:"/docs/plugins.html#hls插件"}},[t._v("TS")])],1),r("MenuGroup",{attrs:{title:"钩子"}},[r("MenuItem",{attrs:{name:"Auth",to:"/docs/plugins.html#校验插件"}},[t._v("验证")]),r("MenuItem",{attrs:{name:"QoS"}},[t._v("QoS")]),r("MenuItem",{attrs:{name:"gateway",to:"/docs/plugins.html#网关插件"}},[t._v("网关")])],1)],2),r("MenuItem",{attrs:{name:"4",to:"about"}},[t._v(" 支持 ")])],1),r("router-view",{staticClass:"content"}),r("div",[t._v("Copyright © 2019-2020 dexter 苏ICP备20001212号")])],1)},s=[],n={name:"app",data(){return{selectedMenu:"home"}}},i=n,u=(r("034f"),r("2877")),l=Object(u["a"])(i,o,s,!1,null,null,null),c=l.exports,d=r("8c4f"),m=r("bb51"),p=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},f=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root"},[a("h1",[t._v(" 赞助 Monibuca 的研发 ")]),a("p",[t._v(" Monibuca 是采用 MIT 许可的开源项目，使用完全免费。 但是随着项目规模的增长，也需要有相应的资金支持才能持续项目的维护的开发。你可以通过下列的方法来赞助 Monibuca 的开发。 ")]),a("img",{attrs:{src:r("060a")}}),a("img",{attrs:{src:r("e660")}})])}],v=(r("5775"),{}),h=Object(u["a"])(v,p,f,!1,null,"e34eab40",null),g=h.exports,_=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"layout"},[r("ButtonGroup",{attrs:{vertical:""}},[r("Button",{attrs:{icon:"ios-folder"},on:{click:function(e){t.showRecords=!0}}}),r("Button",{attrs:{icon:"md-bug"}}),r("Button",{attrs:{icon:"md-settings"}})],1),t._l(t.Rooms,(function(e){return r("Card",{key:e.StreamPath,staticClass:"room"},[r("p",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.typeMap[e.Type]||e.Type)+t._s(e.StreamPath))]),r("StartTime",{attrs:{slot:"extra",value:e.StartTime},slot:"extra"}),r("p",[t._v(" "+t._s(t.SoundFormat(e.AudioInfo.SoundFormat))+" "+t._s(e.AudioInfo.PacketCount)+" "+t._s(t.SoundRate(e.AudioInfo.SoundRate))+" 声道:"+t._s(e.AudioInfo.SoundType)+" ")]),r("p",[t._v(" "+t._s(t.CodecID(e.VideoInfo.CodecID))+" "+t._s(e.VideoInfo.PacketCount)+" "+t._s(e.VideoInfo.SPSInfo.Width)+"x"+t._s(e.VideoInfo.SPSInfo.Height)+" ")]),r("ButtonGroup",{attrs:{size:"small"}},[r("Button",{attrs:{icon:"ios-people"},on:{click:function(r){return t.onShowDetail(e)}}},[t._v(t._s(e.SubscriberInfo?e.SubscriberInfo.length:0))]),e.Type?r("Button",{attrs:{icon:"md-eye"},on:{click:function(r){return t.preview(e)}}}):t._e(),t.isRecording(e)?r("Button",{staticClass:"recording",attrs:{icon:"ios-radio-button-on"},on:{click:function(r){return t.stopRecord(e)}}}):r("Button",{attrs:{icon:"ios-radio-button-on"},on:{click:function(r){return t.record(e)}}})],1)],1)})),0==t.Rooms.length?r("div",{staticClass:"empty"},[r("Icon",{attrs:{type:"md-wine",size:"50"}}),t._v("没有任何房间 ")],1):t._e(),r("div",{staticClass:"status"},[r("Alert",[t._v("带宽消耗 📥："+t._s(t.totalInNetSpeed)+" 📤："+t._s(t.totalOutNetSpeed))]),r("Alert",{attrs:{type:t.memoryStatus}},[t._v("内存使用："+t._s(t.networkFormat(t.Memory.Used,"M"))+" 占比："+t._s(t.Memory.Usage.toFixed(2))+"%")]),r("Alert",{attrs:{type:t.cpuStatus}},[t._v("CPU使用："+t._s(t.CPUUsage.toFixed(2))+"%")]),r("Alert",{attrs:{type:t.hardDiskStatus}},[t._v("磁盘使用："+t._s(t.networkFormat(t.HardDisk.Used,"M"))+" 占比："+t._s(t.HardDisk.Usage.toFixed(2))+"%")])],1),r("Jessibuca",{ref:"jessibuca",model:{value:t.showPreview,callback:function(e){t.showPreview=e},expression:"showPreview"}}),r("Records",{model:{value:t.showRecords,callback:function(e){t.showRecords=e},expression:"showRecords"}})],2)},b=[],y=r("2f62"),S=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Modal",t._g(t._b({attrs:{draggable:"",title:t.url},on:{"on-ok":t.onClosePreview,"on-cancel":t.onClosePreview}},"Modal",t.$attrs,!1),t.$listeners),[r("canvas",{staticStyle:{background:"black"},attrs:{id:"canvas",width:"488",height:"275"}})])},w=[];let M=null;var P={name:"Jessibuca",props:{audioEnabled:Boolean},data(){return{url:""}},watch:{audioEnabled(t){M.audioEnabled(t)}},mounted(){M=new window.Jessibuca({canvas:document.getElementById("canvas"),decoder:"jessibuca/ff.js"})},destroyed(){this.onClosePreview(),M.destroy()},methods:{play(t){this.url=t,M.play(t)},onClosePreview(){M.close()}}},C=P,k=Object(u["a"])(C,S,w,!1,null,null,null),x=k.exports,I=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Poptip",{attrs:{trigger:"hover",content:"⌚️"+new Date(t.value).toLocaleString()}},[r("Time",{attrs:{time:new Date(t.value)}})],1)},j=[],U={name:"StartTime",props:{value:String}},O=U,R=Object(u["a"])(O,I,j,!1,null,"062b9730",null),F=R.exports,D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Modal",t._g(t._b({attrs:{draggable:"",title:"录制的视频"}},"Modal",t.$attrs,!1),t.$listeners),[r("List",t._l(t.data,(function(e){return r("ListItem",{key:e},[r("ListItemMeta",{attrs:{title:e.Path}},[r("template",{slot:"description"},[t._v(t._s(t.toSizeStr(e.Size))+" "+t._s(t.toDurationStr(e.Duration)))])],2),r("template",{slot:"action"},[r("li",[r("a",{attrs:{href:"javascript:void(0)"},on:{click:function(r){return t.play(e)}}},[t._v("Play")])]),r("li",[r("a",{attrs:{href:"javascript:void(0)"}},[t._v("Delete")])])])],2)})),1)],1)},T=[];const G={"":"K",K:"M",M:"G",G:null};var $={data(){return{data:[]}},methods:{play(t){window.ajax.get("//"+location.host+"/api/record/flv/play",{streamPath:t.Path.replace(".flv","")},t=>{"success"==t?this.$Message.success("开始发布"):this.$Message.error(t)})},toSizeStr(t,e=""){return t>1024&&G[e]?this.toSizeStr(t/1024,G[e]):t.toFixed(2).replace(".00","")+e+"B"},toDurationStr(t){if(t>1e3){let e=t/1e3;if(e>60){e|=0;let t=e/60>>0;if(t>60){let e=t/60>>0;return e+"hour"+t%60+"min"}return t+"min"+e%60+"s"}return e.toFixed(3)+"s"}return t+"ms"}},mounted(){window.ajax.getJSON("//"+location.host+"/api/record/flv/list",{},t=>{this.data=t})}},H=$,B=Object(u["a"])(H,D,T,!1,null,null,null),A=B.exports;const E={"":"K",K:"M",M:"G",G:null},z={0:"Linear PCM, platform endian",1:"ADPCM",2:"MP3",3:"Linear PCM, little endian",4:"Nellymoser 16kHz mono",5:"Nellymoser 8kHz mono",6:"Nellymoser",7:"G.711 A-law logarithmic PCM",8:"G.711 mu-law logarithmic PCM",9:"reserved",10:"AAC",11:"Speex",14:"MP3 8Khz",15:"Device-specific sound"},N={1:"JPEG (currently unused)",2:"Sorenson H.263",3:"Screen video",4:"On2 VP6",5:"On2 VP6 with alpha channel",6:"Screen video version 2",7:"AVC",12:"H265"};var J={name:"Console",components:{Jessibuca:x,StartTime:F,Records:A},data(){return{showPreview:!1,showRecords:!1,typeMap:{FlvFile:"🎥",TS:"🎬",HLS:"🍎","":"⏳",Match365:"🏆",RTMP:"🚠"}}},computed:{...Object(y["c"])({Rooms:t=>t.summary.Rooms||[],Memory:t=>t.summary.Memory,CPUUsage:t=>t.summary.CPUUsage,HardDisk:t=>t.summary.HardDisk,cpuStatus:t=>t.summary.CPUUsage>99?"error":t.summary.CPUUsage>50?"warning":"success",memoryStatus(t){return t.summary.CPUUsage>99?"error":t.summary.CPUUsage>50?"warning":"success"},hardDiskStatus(t){return t.summary.CPUUsage>99?"error":t.summary.CPUUsage>50?"warning":"success"},totalInNetSpeed(t){return this.networkFormat(t.summary.NetWork.reduce((t,e)=>t+e.ReceiveSpeed,0))+"/S"},totalOutNetSpeed(t){return this.networkFormat(t.summary.NetWork.reduce((t,e)=>t+e.SentSpeed,0))+"/S"}})},methods:{...Object(y["b"])(["fetchSummary","stopFetchSummary"]),preview(t){this.$refs.jessibuca.play("ws://"+location.hostname+":8080/"+t.StreamPath),this.showPreview=!0},onShowDetail(){},networkFormat(t,e=""){return t>1024&&E[e]?this.networkFormat(t/1024,E[e]):t.toFixed(2).replace(".00","")+e+"B"},SoundFormat(t){return z[t]},CodecID(t){return N[t]},SoundRate(t){return t>1e3?t/1e3+"kHz":t+"Hz"},record(t){window.ajax.get("//"+location.host+"/api/record/flv",{streamPath:t.StreamPath},t=>{"success"==t?this.$Message.success("开始录制"):this.$Message.error(t)})},stopRecord(t){window.ajax.get("//"+location.host+"/api/record/flv/stop",{streamPath:t.StreamPath},t=>{"success"==t?this.$Message.success("停止录制"):this.$Message.error(t)})},isRecording(t){return t.SubscriberInfo&&t.SubscriberInfo.find(t=>"FlvRecord"==t.Type)}},mounted(){this.fetchSummary()},destroyed(){this.stopFetchSummary()}},L=J,V=(r("000b"),Object(u["a"])(L,_,b,!1,null,"65ce2c22",null)),K=V.exports;a["default"].use(d["a"]);const W=[{path:"/",name:"home",component:m["default"]},{path:"/about",name:"about",component:g},{path:"/console",name:"console",component:K}],Q=new d["a"]({mode:"history",base:"/",routes:W});var q=Q;a["default"].use(y["a"]);let X=null;var Y=new y["a"].Store({state:{summary:{NetWork:[],Rooms:[],Memory:{Used:0,Usage:0},CPUUsage:0,HardDisk:{Used:0,Usage:0}}},mutations:{update(t,e){Object.assign(t,e)}},actions:{fetchSummary({commit:t}){X=new EventSource("//"+location.host+"/api/summary"),X.onmessage=e=>{if(!e.data)return;let r=JSON.parse(e.data);t("update",{summary:r})}},stopFetchSummary(){X.close()}},modules:{}}),Z=r("f825"),tt=r.n(Z);r("f8ce");a["default"].use(tt.a),a["default"].config.productionTip=!1,new a["default"]({router:q,store:Y,render:t=>t(c)}).$mount("#app")},5775:function(t,e,r){"use strict";var a=r("f706"),o=r.n(a);o.a},"5a67":function(t,e,r){},"7ad4":function(t,e,r){"use strict";var a=r("0c3e"),o=r.n(a);e["default"]=o.a},"7c5e":function(t,e,r){},"850a":function(t,e,r){"use strict";var a=r("7c5e"),o=r.n(a);o.a},bb51:function(t,e,r){"use strict";var a=r("470c"),o=r("7ad4"),s=(r("850a"),r("2877")),n=Object(s["a"])(o["default"],a["a"],a["b"],!1,null,"54efad41",null);e["default"]=n.exports},cf05:function(t,e,r){t.exports=r.p+"img/logo.b5357057.png"},e660:function(t,e,r){t.exports=r.p+"img/wechat.ff453262.jpg"},f195:function(t,e,r){},f706:function(t,e,r){}});
//# sourceMappingURL=app.2d98a4c2.js.map